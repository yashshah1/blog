<!-- Html Elements for Search -->
<div id="search-container">
  <input type="text" id="search-input" placeholder="Search for a post" />
  <ul id="results-container"></ul>
</div>

<!-- Script pointing to search-script.js -->
<script
  src="{{site.url}}/js/simple-jekyll-search.min.js"
  type="text/javascript"
></script>

<!-- Configuration -->
<script>
  SimpleJekyllSearch({
    searchInput: document.getElementById("search-input"),
    resultsContainer: document.getElementById("results-container"),
    json: "{{site.url}}/search.json",
    searchResultTemplate: '<li><a href="{url}">{title}</a></li>',
    noResultsText:
      'No relevant post ☹️ <br /> Want to see something of the sort? <a href="mailto:yashah1234@gmail.com">Get it touch with me!</a>',
    fuzzy: true,
  });
</script>
<script>
  (() => {
    const search = document.getElementById("search-input");
    const searchContainer = document.getElementById("search-container");
    const parent = searchContainer.parentElement;
    const e = document.createElement("hr");
    e.setAttribute("id", "search-divider");
    let isPresent = false;
    search.addEventListener("input", ({ target: { value } }) => {
      if (value === "") {
        if (isPresent) parent.children[1].remove();
        isPresent = false;
      } else if (!isPresent) {
        parent.insertBefore(e, searchContainer.nextSibling);
        isPresent = true;
      }
    });
  })();
</script>
